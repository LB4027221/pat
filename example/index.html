<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>测试页面</title>
  <script src="../build/0.1/skynet.js"></script>
</head>
<body>
<div id="test">
<div style="background:#fafafa;" sk-bind:id="text">这个是用来测试插值的：{{{text + 'qqq'|fff}}}可以放多个{{{name+'zzz122'}}}</div>

<div>
    绑定文本text
    <input type="text" sk-model="text" value="" />
  </div>
</div>
<script type="text/template" id="J_tmpl">
  这个页面是用来测试模板的基本功能的。
  <div style="background:#fafafa;"  id="object({{*text}})">这个容器的id属性和旁边的值会局部改变,但是是一次性的{{*text}}</div>
  <div style="background:#fafafa;" sk-bind:id="text">这个是用来测试插值的：{{{text + 'qqq'|fff}}}可以放多个{{{name+'zzz122'}}}</div>

  <div style="font-size:16px;" sk-if="show">我是只有true才会看到的</div>

  <div style="font-size:16px;" sk-unless="show">我是只有false才会看到的</div>

  <div style="background:#666;font-size:20px;">下面的是一个列表的测试</div>
  <div style="background:#999;" sk-for="(key,list) in lists">
    <span>位置{{key}}==={{{list.name}}}</span>----<span>{{{list.text}}}--透传父级的数据text--{{text}}</span>
  </div>

  <div style="margin-top:20px;">下面是实现双向绑定的例子</div>

  <div>
    绑定文本text
    <input type="text" sk-model="text" value="" />
  </div>

  <div>
    绑定数组里第一个值
    <input type="text" sk-model="lists[0].text" value="" />
  </div>
</script>

<script type="text/javascript">
//debug会包括更多的信息，但是只有daily版本有效果
View.config({
  debug:true
})
  var h = new View({
    el:'test',
    data:{
      text:'hello world',
      name:'purplebambo<span class="H">x</span>&asdads',
      show:true,
      lists:[{
        name:'1',
        text:'11111'
      },{
        name:'2',
        text:'22222<span class="H">x</span>'
      }]
    },
    template:document.getElementById('J_tmpl').innerHTML,
    filters:{
      fff:function(value) {
        return value + '===='
      }
    }
    //template:'<span>{{text}}</span>'
  })
  // h.$data.text = 'hahaha'
  // h.$digest()

</script>
</body>
</html>